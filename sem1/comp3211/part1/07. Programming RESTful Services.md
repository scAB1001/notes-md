Thursday 30/10/2025

---
Goals:
Understand principles
behind REST Web
Services programming
Outline:
## 7. Programming RESTful Web Services
### REST: Quick Recap
### REST APIs: Examples
### Reference implementations:
#### Python (Flask Restful)
#### Java (Jersey)
### Data encoding and RPC
## 7. Programming RESTful Web Services
### REST: Quick Recap
REST: Quick Recap  
• REST is an architectural style which is based on Web  
standards and the HTTP protocol  
• In a REST based architecture  
– Everything is a resource  
– A resource is accessed via a common interface based on the HTTP  
– The REST server provides access to the resources  
– The REST client accesses and modify the REST resources.  
• Resource  
– Should support the HTTP common operations.  
– Is identified by global IDs (which are typically URIs).  
• REST allows that resources have different representations,  
e.g. text, XML, JSON etc  
• The rest client can ask for specific representation via the  
HTTP protocol  
• See example: Purchase Order

The REST way of Implementing  
the Web Service
HTTP Methods
• PUT, GET, POST and DELETE methods are typical
used in REST based architectures.
– GET defines a reading access of the resource without
side-effects
– POST creates a new resource
– DELETE removes the resources
– PUT updates an existing resource or creates a new
resource.
RESTful Web Services - Examples
• Google REST API
https://developers.google.com/apis-explorer
• X (previously Twitter) REST API
https://developer.x.com/en/docs/api-reference-index
• Amazon RESTful API
https://aws.amazon.com/what-is/restful-api/
https://docs.aws.amazon.com/apigateway/latest/developerguid
e/apigateway-rest-api.html
• Perseverance/MARS2020 REST API
https://forum.nasaspaceflight.com/index.php?topic=53277.0
• OpenAI Platform RESTful APIs
https://platform.openai.com/docs/api-reference/introduction
### REST APIs: Examples
Google extensively supports REST services
https://developers.google.com/custom-search/v1/using_rest
• See
– Actual API
– URL
– Connection
– Request method
– Character encoding
– Result (JSON format)
### Reference implementations:
#### Python Framework (Flask Restful)
• Flask-RESTful is an extension for Flask that adds support for
quickly building REST APIs
https://flask-restful.readthedocs.io/
• It requires Python
• Useful links
– Installation Web page
– Example showing CRUD operations
Flask-RESTful: API Example
$ python api.py runs on port 5000
$ curl http://127.0.0.1:5000/
{"hello": "world"}
CRUD Resource: Example
$ curl http://localhost:5000/todo1 -d "data=Remember the milk" -X PUT
{"todo1": "Remember the milk"}
$ curl http://localhost:5000/todo1
{"todo1": "Remember the milk"}
• CRUD resource for a
todo application
• Resources are built on
top of Flask pluggable
views
#### Java (Jersey)
Java and REST
• Java defines REST support via the Java
Specification Request 311 (JSR)
• This specification is called JAX-RS: Java API for
RESTful Web Services
• JAX-RS uses annotations to define the REST
relevance of Java classes
• JAX-RS supports the creation of XML and JSON
via the Java Architecture for XML Binding (JAXB).
Frameworks: Jersey
• Jersey is the reference implementation for JAX-RS
https://jersey.github.io/
• Jersey contains basically a REST server and a REST client
– The core client can be used provides a library to communicate with the
server
• On the server side Jersey uses a servlet which scans
predefined classes to identify RESTful resources
• The base URL of this servlet is:
http://your_domain:port/display-name/url-pattern/path_from_rest_class
Note: Other Java based implementation frameworks include
• RESTEasy: JBoss project http://resteasy.jboss.org
• Struts Rest plugin: Apache project http://struts.apache.org/plugins/rest/
• …
JAX-RS Annotations

| Annotation                                              | Description                                                                                                                                                                                             |
| ------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| @PATH(your_path)                                        | Sets the path to base URL + /your_path. The base URL is based on the application name, the servlet and the URL pattern                                                                                  |
| @POST                                                   | Indicates that the following method will answer to a HTTP POST request                                                                                                                                  |
| @GET                                                    | Indicates that the following method will answer to a HTTP GET request                                                                                                                                   |
| @PUT                                                    | Indicates that the following method will answer to a HTTP PUT request                                                                                                                                   |
| @DELETE                                                 | Indicates that the following method will answer to a HTTP DELETE request                                                                                                                                |
| @Produces(MediaType<br>.TEXT_PLAIN [, more-<br>types ]) | @Produces defines which MIME type is delivered by a<br>method annotated with @GET. In this example text<br>("text/plain") is produced. Other examples would be "application/xml" or "application/json". |
| @Consumes(type [,<br>more-types ])                      | @Consumes defines which MIME type is consumed by this method.                                                                                                                                           |
#### Example: Simple Calculator
• Create a Java Calculator class with operations ‘add’ and
‘subtract’
• Expose these as Restful Web services which accepts HTTP
GET Requests and sends the response as XML or Plain Text
• The Restful web service is made available at
http://localhost:9999/calcrest/calc/add/
http://localhost:9999/calcrest/calc/sub/
Example: Steps
1. Create the Restful Web Service
2. Publish the Restful Web Service
3. Create a Restful Web Service Client
See code available on Minerva
1- Create the Restful Web Service
```java
import javax.ws.rs.GET;

@Path("/calc")
public class CalcREST {
	@GET @Path("/add/{a}/{b}")
	@Produces(MediaType.TEXT_PLAIN)
	public String addPlainText(@PathParam("a") double a, 
								@PathParam("b") double b)
	{ return (a + b) + ""; }
	
	@GET @Path("/add/{a}/{b}")
	@Produces(MediaType.TEXT_XML)
	public String add(@PathParam("a") double a, @PathParam("b") double 
		b) { return "<?xml version=\"1.0\"?>" + "<result>" + (a + b) + "
			</result>"; }
}
```
2- Publish the Restful Web Service
```java
import java.io.IOException;

public class CalcRESTStartUp {
	static final String BASE_URI = "http://localhost:9999/calcrest/";
	public static void main(String[] args) {
		try {
			HttpServer server = HttpServerFactory.create(BASE_URI);
			server.start();
			System.out.println("Press Enter to stop the server. ");
			System.in.read();
			server.stop(0);
		} catch (IllegalArgumentException e) { e.printStackTrace(); } 
		catch (IOException e) { e.printStackTrace(); }
	}
}
```
Testing the Service
• Open a browser and type the following URL
http://localhost:9999/calcrest/application.wadl
• A Web Application Description Language
(WADL) should be displayed
– This is how the Web Service is described.
3- Create a Restful Web Service Client
```java
public class CalcRESTClient {
	static final String REST_URI = "http://localhost:9999/calcrest";
	static final String ADD_PATH = "calc/add";
	static final String SUB_PATH = "calc/sub";
	public static void main(String[] args) {
	// initialise variables a and b
	ClientConfig config = new DefaultClientConfig();
	Client client = Client.create(config);
	WebResource service = client.resource(REST_URI);
	WebResource addService = service.path(ADD_PATH).path(a + "/" + b);
	System.out.println("Add Response: " + getResponse(addService));
	System.out.println("Add Output as XML: " + 
							getOutputAsXML(addService));
	System.out.println("Add Output as Text: " + 
							getOutputAsText(addService));
}
```
##### Other Frameworks: Django REST
• Requires Django and Python
• Popular with industry
https://www.django-rest-framework.org/
• Steps before deploying a REST service
– Setup a project: get a layout of folders and subfolders
– Define the serializers: important for data representation
– Define the views
• set of simple decorators that wrap your function-based views to ensure they
receive an instance of Request and allows them to return a Response. It allows
you to configure how the request is processed.
– Define the URLS: generate the URL configuration for the APIs
– Other: control how many objects per page are returned (Pagination)
### Data encoding and RPC
![[data-encoding-rpe-ex.png]]
Protobuf (Protocol Buffers): a way of encoding structured data
in an efficient yet extensible format.
– Used by Google for almost all of its internal RPC protocols and file
formats
https://github.com/google/protobuf
• Thrift: software framework from Apache
– for scalable cross-language services development
– combines a software stack with a code generation engine to build
services that work efficiently and seamlessly between C++, Java,
Python, PHP, Ruby, Perl, C#, JavaScript etc
http://thrift.apache.org/
• Avro: a data serialisation system
http://avro.apache.org/
• Other: Gson - A Java serialisation/deserialisation library to
convert Java Objects into JSON and back
https://github.com/google/gson
Conclusion
• REST has grown in popularity primarily due to its
ease of implementation.
• Many organisations offer RESTful API
• Many frameworks exist
– Flask, Django, Jersey
• Importance of data encoding and RPC style in Web
services.